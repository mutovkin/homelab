# Grafana Configuration Override
# Custom settings for homelab deployment

[server]
# Server settings
# root_url and domain are set via GF_SERVER_ROOT_URL and GF_SERVER_DOMAIN environment variables
serve_from_sub_path = false
protocol = http
# Enable gzip compression
enable_gzip = true
# Router logging for debugging
router_logging = true

enforce_domain = true

[analytics]
# Disable analytics
reporting_enabled = false
check_for_updates = false
check_for_plugin_updates = false

[security]
# Security settings
admin_user = ${GRAFANA_USER}
admin_password = ${GRAFANA_PASSWORD}
disable_gravatar = true                 # Don't fetch user avatars
cookie_samesite = none
# cookie_secure is set via GF_SECURITY_COOKIE_SECURE environment variable
cookie_secure = true

# Allow embedding and disable CSRF when behind reverse proxy
allow_embedding = true


[auth.anonymous]
# Disable anonymous access
enabled = false

[users]
# User settings
allow_sign_up = false                   # Don't allow new user registration
allow_org_create = false                # Don't allow org creation

[log]
# Logging
mode = console
level = debug
filters = rendering:debug

[paths]
# Data paths
data = /var/lib/grafana/data
logs = /var/log/grafana
plugins = /var/lib/grafana/plugins
provisioning = /etc/grafana/provisioning

[plugins]
# Plugin settings
enable_alpha = false
plugin_admin_enabled = true

# Legacy alerting has been removed in Grafana 12
# Use unified_alerting instead
[unified_alerting]
# Unified alerting (Grafana 8+)
enabled = true
execute_alerts = true
